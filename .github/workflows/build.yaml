name: Build binaries
on:
  workflow_call:
    inputs:
      production:
        type: boolean
        description: "Run in production mode"
      version:
        type: string
        description: "Version (without leading \"v\")"
      year:
        type: string
        description: "Copyright year"
  workflow_dispatch:
    inputs:
      production:
        type: boolean
        description: "Run in production mode"
      version:
        type: string
        description: "Version (without leading \"v\")"
      year:
        type: string
        description: "Copyright year"
jobs:
  build-macos:
    name: Build macOS binaries
    uses: ghifari160/actions/.github/workflows/go-builder-macos.yaml@v0.1.0
    with:
      output: migrate
  build-linux-x86:
    name: Build Linux binaries
    uses: ghifari160/actions/.github/workflows/go-builder-linux.yaml@v0.1.0
    with:
      output: migrate
  build-windows:
    name: Build Windows binaries
    uses: ghifari160/actions/.github/workflows/go-builder-windows.yaml@v0.1.0
    with:
      output: migrate
